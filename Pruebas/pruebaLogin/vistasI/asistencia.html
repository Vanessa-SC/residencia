<ng-include src="'/Residencia/Pruebas/pruebaLogin/vistasI/nav.html'"></ng-include>

<div class="container" ng-init="getParticipantes();YaSeRegistroAsistencia()">
    <div class="p-4 border-bottom">
        <div class="row align-items-center">
            <div class="col-sm-3 text-right">
                <img src="\Residencia\Proyecto\images\Logo ITD.png" class="logoITD" alt="">
            </div>
            <div class="col-sm-9 text-left">
                <h1>Periodo {{periodo}}</h1>
                <p class="font-weight-bold">Programa Institucional de Formaci&oacute;n y Actualizaci&oacute;n Docente y
                    Profesional</p>
            </div>
        </div>
    </div>
    <div class="text-center bg-light text-wine">
        <span id="mensaje" class="font-italic" style="font-size: 2rem !important;"></span>
    </div>
    <div class="d-flex justify-content-center mt-3">
        <div class="pt-3 table-responsive">
            <table class="table table-sm table-bordered text-center">
                <thead class="bg-wine text-white">
                    <tr>
                        <td class="align-middle font-italic">Participantes</th>
                        <td class="align-middle font-italic text-center"> Fecha: <br> <strong>{{fecha}}</strong> </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="x in participantes">
                        <th scope="row" class="fontT align-middle"> {{x.nombre}} </th>
                        <td class="align-middle">
                            <div class="custom-control custom-checkbox text-center align-middle">
                                <input type="checkbox" class="custom-control-input" id="c{{x.idUsuario}}"
                                    ng-model="listaAlumnos[x.idUsuario]" />
                                <label class="custom-control-label" for="c{{x.idUsuario}}"></label>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <tbody ng-show="participantes | isEmpty">
                    <tr class="text-center">
                        <td class="align-middle" colspan="10" class=" bg-light align-middle p-4 font-italic">
                            <h5>No hay participantes aún</h5>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
    <div class="p-5 text-center" colspan="2">
        <button class="btn btn-secondary" id="btn_borrar" ng-click="uncheck()">
            <i class="erase_icon"></i>Borrar
        </button>
        <button class="btn bg-wine text-white" id="btn_enviar" data-toggle="modal" data-target="#modal">
            <i class="send_icon"></i>Enviar
        </button>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="Title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="dialog">
            <div class="modal-content">
                <div class="modal-header bg-wine">
                    <h5 class="font-weight-bold text-white">¿Está seguro de que quiere registrar esta asistencia?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <span class="font-italic font-weight-bold">Una vez registrada NO podrá
                        modificarla</span>
                </div>
                <div class="modal-footer">
                    <button class="btn bg-wine text-white" title="Aceptar" ng-click="registrarAsistencia()"
                        data-backdrop="false">Aceptar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        data-backdrop="false">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="toast w-75" data-autohide="false" id="alerta"
    style="position: fixed; top: 50px; right: 30px; background-color: rgb(250, 250, 250);">
    <div class="toast-header bg-{{alert.tipo}} text-dark">
        <strong class="mr-auto">{{alert.titulo}}</strong>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">
            <span aria-hidden="true" style="font-size: 1.1em;">&times;</span>
        </button>
    </div>
    <div class="toast-body">
        <div>{{alert.mensaje}}</div>
    </div>
</div>