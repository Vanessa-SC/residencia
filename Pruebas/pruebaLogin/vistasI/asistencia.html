<ng-include src="'/Residencia/Pruebas/pruebaLogin/vistasI/nav.html'"></ng-include>

<div class="container" ng-init="getParticipantes();YaSeRegistroAsistencia()">
    <div class="p-4 border-bottom">
        <div class="row align-items-center">
            <div class="col-sm-3 text-left">
                <img src="\Residencia\Proyecto\images\Logo ITD.png" class="logoITD" alt="">
            </div>
            <div class="col-sm-9 text-left">
                <h1>Periodo {{periodo}}</h1>
                <p class="font-weight-bold">Programa Institucional de Formaci&oacute;n y Actualizaci&oacute;n Docente y Profesional</p>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center mt-3">

        <div class="pt-3">
            <table class="table table-sm">
                <thead>
                    <tr>
                        <th scope="col">Participantes</th>
                        <th scope="col" class="text-center"> Fecha: <br> {{fecha}} </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="x in participantes">
                        <th scope="row" class="fontT align-middle"> {{x.nombre}} </th>
                        <td class="align-middle">
                            <div class="custom-control custom-checkbox text-center align-middle">
                                <input type="checkbox" class="custom-control-input" id="c{{x.idUsuario}}"
                                    ng-model="listaAlumnos[x.idUsuario]" />
                                <label class="custom-control-label" for="c{{x.idUsuario}}"></label>
                            </div>
                        </td>
                    </tr>
                    

                </tbody>
                <tfoot>
                    <tr>
                        <td class="p-4"><button class="btn btn-secondary" id="btn_borrar" ng-click="uncheck()"><i
                                    class="erase_icon"></i>Borrar</button></td>
                        <td class="p-4">
                            <button class="btn bg-wine text-white" id="btn_enviar" data-toggle="modal"
                                data-target="#modal"><i class="send_icon"></i>Enviar</button>
                        </td>
                    </tr>
                </tfoot>
                <!-- <input type="button" value="Get" ng-click="GetValue()" /> -->
            </table>
        </div>
    </div>

    <div class="text-center">
        <span id="mensaje" class="font-italic" style="font-size: 2rem !important;"></span>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="Title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="dialog">
            <div class="modal-content">
                <div class="modal-header bg-wine">
                    <h5 class="font-weight-bold text-white">¿Está seguro de que quiere registrar esta asistencia?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <span class="font-italic font-weight-bold">Una vez registrada NO podrá
                        modificarla</span>
                </div>
                <div class="modal-footer">
                    <button class="btn bg-wine text-white" title="Aceptar" ng-click="registrarAsistencia()"
                        data-backdrop="false">Aceptar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        data-backdrop="false">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="toast" data-autohide="false" id="alerta"
    style="position: fixed; top: 50px; right: 50px; background-color: rgb(255, 255, 255); width:500px">
    <div class="toast-header bg-{{alerta.tipo}} text-white">
        <strong class="mr-auto">{{alerta.titulo}}</strong>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">
            <span aria-hidden="true" style="font-size: 1.1em;">&times;</span>
        </button>
    </div>
    <div class="toast-body">
        <div>{{alerta.mensaje}}</div>
    </div>
</div>